<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"
	charset="ISO-8859-1">
<div class="breadcrumb-holder">
	<div class="container-fluid">
		<ul class="breadcrumb">
			<li class="breadcrumb-item"><a href="/">Inicio</a></li>
			<li class="breadcrumb-item">Cuentas bancarias</li>
			<li class="breadcrumb-item active">Acciones</li>
		</ul>
	</div>
</div>
<!-- Seccion de contenido -->
<section data-ng-if="bactCtrl.bankAction">
	<div class="container-fluid">
		<header>
			<h1 class="h3 display">{{!bactCtrl.bankAction.id? 'Nueva' :
				'Actualizar'}} acción</h1>
		</header>
		<div class="row">
			<div class="col-lg-2"></div>
			<div class="col-lg-8">
				<div class="card">
					<div class="card-header"></div>
					<div class="card-body">
						<form class="form-horizontal" name="formbankAction"
							data-ng-submit="bactCtrl.submitForm(formbankAction.$valid)"
							novalidate>
							<div class="line"></div>
							<div class="form-group row">
								<label class="col-sm-2 form-control-label">Instrumento
									de inversión</label>
								<div class="col-sm-10">
									<input type="text" class="form-control"
										data-ng-model="bactCtrl.bankAction.name">
								</div>
							</div>
							<div class="line"></div>
							<div class="form-group row">
								<label class="col-sm-2 form-control-label">CUSIP</label>
								<div class="col-sm-10">
									<input type="text" class="form-control"
										data-ng-model="bactCtrl.bankAction.cusip">
								</div>
							</div>
							<div class="line"></div>
							<div class="form-group row">
								<label class="col-sm-2 form-control-label">ISIN/Serie</label>
								<div class="col-sm-10">
									<input type="text" class="form-control"
										data-ng-model="bactCtrl.bankAction.serie">
								</div>
							</div>
							<div class="line"></div>
							<div class="form-group row">
								<label class="col-sm-2 form-control-label">Security
									Identifier</label>
								<div class="col-sm-10">
									<input type="text" class="form-control"
										data-ng-model="bactCtrl.bankAction.security">
								</div>
							</div>
							<div class="line"></div>
							<div class="form-group row">
								<label class="col-sm-2 form-control-label">Títulos
									(Cantidad)</label>
								<div class="col-sm-10">
									<input type="number" step="any" class="form-control"
										data-ng-model="bactCtrl.bankAction.quantity">
								</div>
							</div>
							<div class="line"></div>
							<div class="form-group row">
								<label class="col-sm-2 form-control-label">Unit Cost</label>
								<div class="col-sm-10">
									<input type="number" step="any" class="form-control"
										data-ng-model="bactCtrl.bankAction.unitCost">
								</div>
							</div>
							<div class="line"></div>
							<div class="form-group row">
								<label class="col-sm-2 form-control-label">Valor a costo</label>
								<div class="col-sm-10">
									<input type="number" step="any" class="form-control"
										data-ng-model="bactCtrl.bankAction.valueAtCost">
								</div>
							</div>
							<div class="line"></div>
							<div class="form-group row">
								<label class="col-sm-2 form-control-label">Fecha de
									Adquisición</label>
								<div class="col-sm-10">
									<input type="date" class="form-control"
										data-ng-model="bactCtrl.bankAction.acquisitionDate">
								</div>
							</div>
							<div class="line"></div>
							<div class="form-group row">
								<label class="col-sm-2 form-control-label">Registro
									contable</label>
								<div class="col-sm-10">
									<input type="text" class="form-control"
										data-ng-model="bactCtrl.bankAction.accountingRecord">
								</div>
							</div>
							<div class="line"></div>
							<div class="form-group row">
								<label class="col-sm-2 form-control-label">Valor</label>
								<div class="col-sm-10">
									<input type="text" class="form-control"
										data-ng-model="bactCtrl.bankAction.value">
								</div>
							</div>
							<div class="line"></div>
							<div class="form-group row">
								<label class="col-sm-2 form-control-label">Moneda
									Original</label>
								<div class="col-sm-10">
									<input type="text" class="form-control"
										data-ng-model="bactCtrl.bankAction.originalCoin">
								</div>
							</div>
							<div class="line"></div>
							<div class="form-group row">
								<div class="col-sm-4 offset-sm-2">
									<button type="button" class="btn btn-secondary"
										data-ng-click="bactCtrl.cancelbankAction()">Cancelar</button>
									<button type="submit" class="btn"
										data-ng-class="!bactCtrl.bankAction.id? 'btn-primary' : 'btn-info'">{{!bactCtrl.bankAction.id?
										'Registrar' : 'Actualizar'}}</button>
								</div>
							</div>
							<div class="line"></div>
						</form>
					</div>
				</div>
			</div>
		</div>
	</div>
</section>
<!-- Seccion de tabla -->
<section data-ng-if="!bactCtrl.bankAction">
	<div class="container-fluid">
		<header>
			<h1 class="h3 display">Actions</h1>
		</header>
		<div class="row">
			<div class="col-lg-12">
				<div class="card">
					<div class="card-header">
						<div class="row">
							<div class="col-sm-2">
								<button type="button" class="btn btn-primary"
									data-ng-click="bactCtrl.newBankAction()">
									<i class="fa fa-plus"></i> Nueva acción
								</button>
							</div>
							<div class="col-sm-2">
								<!-- Button trigger modal -->
								<button type="button" class="btn btn-primary"
									data-toggle="modal" data-target="#exampleModal">
									Cargar archivo de acciones</button>
							</div>

							<div class="col-sm-4">
								<input type="search" placeholder="Buscar cuenta"
									class="form-control" data-ng-model="bactCtrl.filterActionNumber">
							</div>
						</div>
					</div>
					<div class="card-body">
						<div class="table-responsive">
							<table class="table table-striped">
								<thead>
									<tr>
										<th>#</th>
										<th>Instrumento de inversión (Nombre)</th>
										<th>Cusip</th>
										<th>ISIN/Serie</th>
										<th>Security Identifier</th>
										<th>Títulos (Cantidad)</th>
										<th>Unit Cost</th>
										<th>Valor a costo</th>
										<th>Fecha Adquisición</th>
										<th>Registro Contable</th>
										<th></th>
										<th></th>
									</tr>
								</thead>
								<tbody>
									<tr data-ng-repeat="ba in bactCtrl.bankActions | filter: bactCtrl.filterActionNumber track by $index"">
										<td scope="row">{{$index+1}}</td>
										<td>{{ba.name}}</td>
										<td>{{ba.cusip}}</td>
										<td>{{ba.serie}}</td>
										<td>{{ba.security}}</td>
										<td>{{ba.quantity}}</td>
										<td>{{ba.unitCost}}</td>
										<td>{{ba.valueAtCost}}</td>
										<td>{{ba.acquisitionDate | date : 'dd/MM/yyyy'}}</td>
										<td>{{ba.accountingRecord}}</td>
										<td><button class="btn btn-info"
												data-ng-click="bactCtrl.update(ba)">Actualizar</button></td>
										<td><button class="btn btn-danger"
												data-ng-click="bactCtrl.delete(ba)">Eliminar</button></td>
									</tr>
								</tbody>
							</table>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</section>

<!-- Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog"
	aria-labelledby="exampleModalLabel" aria-hidden="true">
	<div class="modal-dialog" role="document">
		<div class="modal-content">
			<div class="modal-header">
				<h5 class="modal-title" id="exampleModalLabel">Carga de movimientos de cuenta</h5>
				<button type="button" class="close" data-dismiss="modal"
					aria-label="Close">
					<span aria-hidden="true">&times;</span>
				</button>
			</div>
			<div class="modal-body"> <input data-file-model="bactCtrl.myFile" type="file" id="file" name="file"/></div>
			<div class="modal-footer">
				<button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
				<button type="button" data-ng-click="bactCtrl.addDocument()" class="btn btn-primary">Cargar</button>
			</div>
		</div>
	</div>
</div>